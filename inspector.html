<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <script src="sss/inspector.js"></script>
    <title>Inspector </title>
</head>

<style>
  table {
    padding: 2px;
    border: 1px solid;
    border-spacing: 1px;
    background: yellow;
  }
  ul { /*scroll doesn't work on td*/
    padding: 0;
    margin: 2px;
    border: 1px solid;
    width:  210px;
    height: 260px;
    background: white;
    overflow-x: auto;
    overflow-y: scroll;
  }
  li {
    margin: 2px;
    font: 12px arial, sans-serif;
    list-style-type: none;
    cursor: pointer;
  }
  li:hover {
    color: white;
    background-color: blue;
  }
  #out {
    font: 13px arial, sans-serif;
  }
  .cname {
    font-weight: bold;
    text-align: center;
    background-color: #aaffaa;
  }
  .tip {
    visibility: hidden;
    font: 10px arial, sans-serif;
    text-align: center;
    color: white;
    background-color: blue;
    padding: 5px 5px;
    position: absolute;
  }
</style>

<body>
<p><span id=title style="font-weight: bold"></span> &nbsp;
<a href="https://maeyler.github.io/JS/sss/">Read me</a>
</p>


<table id=tablo>
  <tr>
    <th><button onClick='previous()' 
      onMouseOver='makeVisible(prev, true)'
      onMouseOut ='makeVisible(prev, false)'>◀</button>
    <span id=prev class=tip>Display previous object</span>
    &nbsp; Objects &nbsp;
    <button onClick='remove()' 
      onMouseOver='makeVisible(dele, true)' 
      onMouseOut ='makeVisible(dele, false)'>✘</button>
    <span id=dele class=tip>Delete current object</span>
    </th>
    <th>Properties</th>
    <th>Methods</th>
  </tr>
  <tr>
    <td><ul id=list1 
        onClick='displayItem(lineNumber(this, event))' 
        tabindex="0" onKeyDown='doKey(event)'>
    </ul></td>
    <td><ul id=list2 
        onClick='doClick2(lineNumber(this, event))'>
    </ul></td>
    <td><ul id=list3 
        onClick='doMethod(lineNumber(this, event))'>
    </ul></td>
  </tr>
  <tr>
    <td><input id=inp style="width:198px;" 
         onKeyUp='doEnter(event)'></td>
    <td id=out colSpan=2>output goes here</td>
  </tr>
</table>
<hr />

<script>
"use strict";
function lineNumber(t, evt) { //t is target, <ul> element
    let y = t.scrollTop + evt.layerY;
    let h = t.firstChild.clientHeight + 2; //16px
    return Math.trunc(y/h);
}
function makeVisible(t, val) {
    t.style.visibility = val? "visible" : "";
    if (val) setTimeout(hideTips, 2500);
}
function hideTips() {
    prev.style.visibility = "";
    dele.style.visibility = "";
}
function init() {
  let s = "Small is beautiful", d = new Date(), 
      a = [0, 11, "22", "abc"], b = new Set(a),
      one = 123, two = "456", random = Math.random, 
      sqrt = Math.sqrt, power = Math.pow, pi = Math.PI,
      toString = (() => s),  //same as return s
      c = {one, two, random, sqrt, power, pi, toString};
  for (let x of [s, d, a, b, c, document, window]) 
      display(x);
}

    title.innerText = document.title+" "+VERSION;
    const out = document.getElementById("out");
    try {
        init();
    } catch(e) {
        reportError(e);
    }
    inp.value = "_.toString()";
    inp.selectionEnd = inp.value.length; 
    inp.selectionStart = 0; inp.focus();
</script>

</body>
</html>
