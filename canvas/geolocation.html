<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Geo Location </title>
</head>

<script src="https://maps.google.com/maps/api/js?key=AIzaSyDDuGt0E5IEGkcE6ZfrKfUtE9Ko_de66pA"></script>
<script>
"use strict";
var MAP; //global object from google.maps
function locate(pos) {
  let lat = pos.coords.latitude, 
      lon = pos.coords.longitude;
  const OPT = {
     zoom: 13,
     center: new google.maps.LatLng(lat, lon),
   //mapTypeId: google.maps.MapTypeId.TERRAIN,
   //disableDefaultUI: true
  }
  console.log(pos);
  //map is a <div> for rendering the MAP
  MAP = new google.maps.Map(map, OPT); 
}
const MIN = 0, MAX = 19;
var incr = 0;
function stop() {
    but.value = "Run";
    but.onclick = start;
    incr = 0;
}
function start() {
    MAP.setZoom(MIN);
    but.value = "Stop";
    but.onclick = stop;
    incr = 1; zoom();
}
function zoom() {
    if (incr == 0) return;
    let zz = MAP.zoom;
    MAP.setZoom(zz + incr);
    zz = MAP.zoom;
    if (zz >= MAX) incr = -1;
    if (zz <= MIN) incr = 1;
    setTimeout(zoom, 500);
}
</script>

<style>
    #map {
        width: 360px;
        height: 300px;
    }
</style>

<body>

<h2 id=title></h2>

<span id=out></span>
<input id=but type=button value="Run" onClick="start()">


<hr />
<div id=map></div>
<hr />
<b>Sample code</b>
<pre id=sample></pre>
<hr />

<p>Ref: 
<a href="https://github.com/mdn/learning-area/blob/master/javascript/apis/introduction/maps-example.html" 
   target=_blank>Google Maps Example</a>
</p>

<script>
    title.innerText = document.title;
    out.innerHTML = "Google Maps at work";
    sample.innerText = locate+"\n"+zoom;
    navigator.geolocation.getCurrentPosition(locate);
</script>

</body>
</html>
